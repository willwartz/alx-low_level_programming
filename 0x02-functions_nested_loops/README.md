Nested Loops & Functions in C